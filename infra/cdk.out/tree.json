{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.240.0"},"children":{"ContentPulseInfraStack":{"id":"ContentPulseInfraStack","path":"ContentPulseInfraStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.240.0"},"children":{"VideoAnalysesTable":{"id":"VideoAnalysesTable","path":"ContentPulseInfraStack/VideoAnalysesTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.240.0"},"children":{"Resource":{"id":"Resource","path":"ContentPulseInfraStack/VideoAnalysesTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.240.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"analysisId","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"analysisId","keyType":"HASH"}],"tableName":"video-analyses"}}},"ScalingRole":{"id":"ScalingRole","path":"ContentPulseInfraStack/VideoAnalysesTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.240.0"}}}},"CommentsTable":{"id":"CommentsTable","path":"ContentPulseInfraStack/CommentsTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.240.0"},"children":{"Resource":{"id":"Resource","path":"ContentPulseInfraStack/CommentsTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.240.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"analysisId","attributeType":"S"},{"attributeName":"commentId","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"analysisId","keyType":"HASH"},{"attributeName":"commentId","keyType":"RANGE"}],"tableName":"comments","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}},"ScalingRole":{"id":"ScalingRole","path":"ContentPulseInfraStack/CommentsTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.240.0"}}}},"AnalysisResultsTable":{"id":"AnalysisResultsTable","path":"ContentPulseInfraStack/AnalysisResultsTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.240.0"},"children":{"Resource":{"id":"Resource","path":"ContentPulseInfraStack/AnalysisResultsTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.240.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"analysisId","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"analysisId","keyType":"HASH"}],"tableName":"analysis-results"}}},"ScalingRole":{"id":"ScalingRole","path":"ContentPulseInfraStack/AnalysisResultsTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.240.0"}}}},"AnalyzeCommentsFunction":{"id":"AnalyzeCommentsFunction","path":"ContentPulseInfraStack/AnalyzeCommentsFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.240.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"ContentPulseInfraStack/AnalyzeCommentsFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.240.0"},"children":{"Resource":{"id":"Resource","path":"ContentPulseInfraStack/AnalyzeCommentsFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.240.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ContentPulseInfraStack/AnalyzeCommentsFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.240.0"},"children":{"Resource":{"id":"Resource","path":"ContentPulseInfraStack/AnalyzeCommentsFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.240.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["AnalysisResultsTable7FFFA52B","Arn"]},{"Fn::GetAtt":["VideoAnalysesTable003E418B","Arn"]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:ConditionCheckItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:Scan"],"Effect":"Allow","Resource":{"Fn::GetAtt":["CommentsTableBBDBF0A8","Arn"]}}],"Version":"2012-10-17"},"policyName":"AnalyzeCommentsFunctionServiceRoleDefaultPolicy2D053AF1","roles":[{"Ref":"AnalyzeCommentsFunctionServiceRoleE070DF8A"}]}}}}}}},"Code":{"id":"Code","path":"ContentPulseInfraStack/AnalyzeCommentsFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.240.0"},"children":{"Stage":{"id":"Stage","path":"ContentPulseInfraStack/AnalyzeCommentsFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.240.0"}},"AssetBucket":{"id":"AssetBucket","path":"ContentPulseInfraStack/AnalyzeCommentsFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.240.0"}}}},"Resource":{"id":"Resource","path":"ContentPulseInfraStack/AnalyzeCommentsFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.240.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-988182841347-us-east-1","s3Key":"ca9eab318745fe137db1dbb62ff8d59ddca422a9754b6ed6dc20ddefa5e891d0.zip"},"environment":{"variables":{"VIDEO_ANALYSES_TABLE":{"Ref":"VideoAnalysesTable003E418B"},"COMMENTS_TABLE":{"Ref":"CommentsTableBBDBF0A8"},"ANALYSIS_RESULTS_TABLE":{"Ref":"AnalysisResultsTable7FFFA52B"},"GROQ_API_KEY":"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"}},"functionName":"AnalyzeCommentsFunction","handler":"index.handler","memorySize":1024,"role":{"Fn::GetAtt":["AnalyzeCommentsFunctionServiceRoleE070DF8A","Arn"]},"runtime":"nodejs18.x","timeout":120}}}}},"FetchCommentsFunction":{"id":"FetchCommentsFunction","path":"ContentPulseInfraStack/FetchCommentsFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.240.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"ContentPulseInfraStack/FetchCommentsFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.240.0"},"children":{"Resource":{"id":"Resource","path":"ContentPulseInfraStack/FetchCommentsFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.240.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ContentPulseInfraStack/FetchCommentsFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.240.0"},"children":{"Resource":{"id":"Resource","path":"ContentPulseInfraStack/FetchCommentsFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.240.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["CommentsTableBBDBF0A8","Arn"]},{"Fn::GetAtt":["VideoAnalysesTable003E418B","Arn"]}]},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"FetchCommentsFunctionServiceRoleDefaultPolicyA39AD732","roles":[{"Ref":"FetchCommentsFunctionServiceRoleB1932458"}]}}}}}}},"Code":{"id":"Code","path":"ContentPulseInfraStack/FetchCommentsFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.240.0"},"children":{"Stage":{"id":"Stage","path":"ContentPulseInfraStack/FetchCommentsFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.240.0"}},"AssetBucket":{"id":"AssetBucket","path":"ContentPulseInfraStack/FetchCommentsFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.240.0"}}}},"Resource":{"id":"Resource","path":"ContentPulseInfraStack/FetchCommentsFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.240.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-988182841347-us-east-1","s3Key":"c39e6742d7124a67c6f885ec0df2793c5cc870a7d7b89becf2ab76643380a999.zip"},"environment":{"variables":{"VIDEO_ANALYSES_TABLE":{"Ref":"VideoAnalysesTable003E418B"},"COMMENTS_TABLE":{"Ref":"CommentsTableBBDBF0A8"},"YOUTUBE_API_KEY":"AIzaSyA4qN1PWNC0NqATQYT9prmyCIFL5gTcKmk","ANALYZE_LAMBDA_NAME":{"Ref":"AnalyzeCommentsFunctionA6E5D515"}}},"handler":"index.handler","memorySize":1024,"role":{"Fn::GetAtt":["FetchCommentsFunctionServiceRoleB1932458","Arn"]},"runtime":"nodejs18.x","timeout":300}}}}},"GetStatusFunction":{"id":"GetStatusFunction","path":"ContentPulseInfraStack/GetStatusFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.240.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"ContentPulseInfraStack/GetStatusFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.240.0"},"children":{"Resource":{"id":"Resource","path":"ContentPulseInfraStack/GetStatusFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.240.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ContentPulseInfraStack/GetStatusFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.240.0"},"children":{"Resource":{"id":"Resource","path":"ContentPulseInfraStack/GetStatusFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.240.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:ConditionCheckItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:Scan"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["AnalysisResultsTable7FFFA52B","Arn"]},{"Fn::GetAtt":["VideoAnalysesTable003E418B","Arn"]}]}],"Version":"2012-10-17"},"policyName":"GetStatusFunctionServiceRoleDefaultPolicyB690E6F4","roles":[{"Ref":"GetStatusFunctionServiceRole5FA5CDEE"}]}}}}}}},"Code":{"id":"Code","path":"ContentPulseInfraStack/GetStatusFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.240.0"},"children":{"Stage":{"id":"Stage","path":"ContentPulseInfraStack/GetStatusFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.240.0"}},"AssetBucket":{"id":"AssetBucket","path":"ContentPulseInfraStack/GetStatusFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.240.0"}}}},"Resource":{"id":"Resource","path":"ContentPulseInfraStack/GetStatusFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.240.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-988182841347-us-east-1","s3Key":"25b84c3f6906d28ac014f4c31f689b48a248d1fdb0825575cc7362a331bfa9fd.zip"},"environment":{"variables":{"VIDEO_ANALYSES_TABLE":{"Ref":"VideoAnalysesTable003E418B"},"ANALYSIS_RESULTS_TABLE":{"Ref":"AnalysisResultsTable7FFFA52B"}}},"handler":"index.handler","memorySize":256,"role":{"Fn::GetAtt":["GetStatusFunctionServiceRole5FA5CDEE","Arn"]},"runtime":"nodejs18.x","timeout":10}}}}},"ContentPulseApi":{"id":"ContentPulseApi","path":"ContentPulseInfraStack/ContentPulseApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.240.0"},"children":{"Resource":{"id":"Resource","path":"ContentPulseInfraStack/ContentPulseApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.240.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"name":"ContentPulse API"}}},"Deployment":{"id":"Deployment","path":"ContentPulseInfraStack/ContentPulseApi/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.240.0"},"children":{"Resource":{"id":"Resource","path":"ContentPulseInfraStack/ContentPulseApi/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.240.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"Automatically created by the RestApi construct","restApiId":{"Ref":"ContentPulseApiB23AC188"}}}}}},"DeploymentStage.prod":{"id":"DeploymentStage.prod","path":"ContentPulseInfraStack/ContentPulseApi/DeploymentStage.prod","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.240.0"},"children":{"Resource":{"id":"Resource","path":"ContentPulseInfraStack/ContentPulseApi/DeploymentStage.prod/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.240.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"ContentPulseApiDeployment3ABDD1308ee452a36510cf00a3ececf6a158c9a5"},"methodSettings":[{"httpMethod":"*","resourcePath":"/*","dataTraceEnabled":false,"metricsEnabled":true}],"restApiId":{"Ref":"ContentPulseApiB23AC188"},"stageName":"prod"}}}}},"Endpoint":{"id":"Endpoint","path":"ContentPulseInfraStack/ContentPulseApi/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.240.0"}},"Default":{"id":"Default","path":"ContentPulseInfraStack/ContentPulseApi/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.240.0"},"children":{"OPTIONS":{"id":"OPTIONS","path":"ContentPulseInfraStack/ContentPulseApi/Default/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.240.0"},"children":{"Resource":{"id":"Resource","path":"ContentPulseInfraStack/ContentPulseApi/Default/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.240.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Fn::GetAtt":["ContentPulseApiB23AC188","RootResourceId"]},"restApiId":{"Ref":"ContentPulseApiB23AC188"}}}}}},"analyze":{"id":"analyze","path":"ContentPulseInfraStack/ContentPulseApi/Default/analyze","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.240.0"},"children":{"Resource":{"id":"Resource","path":"ContentPulseInfraStack/ContentPulseApi/Default/analyze/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.240.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["ContentPulseApiB23AC188","RootResourceId"]},"pathPart":"analyze","restApiId":{"Ref":"ContentPulseApiB23AC188"}}}},"OPTIONS":{"id":"OPTIONS","path":"ContentPulseInfraStack/ContentPulseApi/Default/analyze/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.240.0"},"children":{"Resource":{"id":"Resource","path":"ContentPulseInfraStack/ContentPulseApi/Default/analyze/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.240.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"ContentPulseApianalyzeC5B8BC12"},"restApiId":{"Ref":"ContentPulseApiB23AC188"}}}}}},"POST":{"id":"POST","path":"ContentPulseInfraStack/ContentPulseApi/Default/analyze/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.240.0"},"children":{"ApiPermission.ContentPulseInfraStackContentPulseApi05534FA3.POST..analyze":{"id":"ApiPermission.ContentPulseInfraStackContentPulseApi05534FA3.POST..analyze","path":"ContentPulseInfraStack/ContentPulseApi/Default/analyze/POST/ApiPermission.ContentPulseInfraStackContentPulseApi05534FA3.POST..analyze","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.240.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["FetchCommentsFunctionE3203F31","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:988182841347:",{"Ref":"ContentPulseApiB23AC188"},"/",{"Ref":"ContentPulseApiDeploymentStageprod0BF875DD"},"/POST/analyze"]]}}}},"ApiPermission.Test.ContentPulseInfraStackContentPulseApi05534FA3.POST..analyze":{"id":"ApiPermission.Test.ContentPulseInfraStackContentPulseApi05534FA3.POST..analyze","path":"ContentPulseInfraStack/ContentPulseApi/Default/analyze/POST/ApiPermission.Test.ContentPulseInfraStackContentPulseApi05534FA3.POST..analyze","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.240.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["FetchCommentsFunctionE3203F31","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:988182841347:",{"Ref":"ContentPulseApiB23AC188"},"/test-invoke-stage/POST/analyze"]]}}}},"Resource":{"id":"Resource","path":"ContentPulseInfraStack/ContentPulseApi/Default/analyze/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.240.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["FetchCommentsFunctionE3203F31","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"ContentPulseApianalyzeC5B8BC12"},"restApiId":{"Ref":"ContentPulseApiB23AC188"}}}}}}}},"analysis":{"id":"analysis","path":"ContentPulseInfraStack/ContentPulseApi/Default/analysis","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.240.0"},"children":{"Resource":{"id":"Resource","path":"ContentPulseInfraStack/ContentPulseApi/Default/analysis/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.240.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["ContentPulseApiB23AC188","RootResourceId"]},"pathPart":"analysis","restApiId":{"Ref":"ContentPulseApiB23AC188"}}}},"OPTIONS":{"id":"OPTIONS","path":"ContentPulseInfraStack/ContentPulseApi/Default/analysis/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.240.0"},"children":{"Resource":{"id":"Resource","path":"ContentPulseInfraStack/ContentPulseApi/Default/analysis/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.240.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"ContentPulseApianalysis84FE1BE3"},"restApiId":{"Ref":"ContentPulseApiB23AC188"}}}}}},"{id}":{"id":"{id}","path":"ContentPulseInfraStack/ContentPulseApi/Default/analysis/{id}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.240.0"},"children":{"Resource":{"id":"Resource","path":"ContentPulseInfraStack/ContentPulseApi/Default/analysis/{id}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.240.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"ContentPulseApianalysis84FE1BE3"},"pathPart":"{id}","restApiId":{"Ref":"ContentPulseApiB23AC188"}}}},"OPTIONS":{"id":"OPTIONS","path":"ContentPulseInfraStack/ContentPulseApi/Default/analysis/{id}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.240.0"},"children":{"Resource":{"id":"Resource","path":"ContentPulseInfraStack/ContentPulseApi/Default/analysis/{id}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.240.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"ContentPulseApianalysisidF152B07C"},"restApiId":{"Ref":"ContentPulseApiB23AC188"}}}}}},"GET":{"id":"GET","path":"ContentPulseInfraStack/ContentPulseApi/Default/analysis/{id}/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.240.0"},"children":{"ApiPermission.ContentPulseInfraStackContentPulseApi05534FA3.GET..analysis.{id}":{"id":"ApiPermission.ContentPulseInfraStackContentPulseApi05534FA3.GET..analysis.{id}","path":"ContentPulseInfraStack/ContentPulseApi/Default/analysis/{id}/GET/ApiPermission.ContentPulseInfraStackContentPulseApi05534FA3.GET..analysis.{id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.240.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["GetStatusFunction4DB2BCBB","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:988182841347:",{"Ref":"ContentPulseApiB23AC188"},"/",{"Ref":"ContentPulseApiDeploymentStageprod0BF875DD"},"/GET/analysis/*"]]}}}},"ApiPermission.Test.ContentPulseInfraStackContentPulseApi05534FA3.GET..analysis.{id}":{"id":"ApiPermission.Test.ContentPulseInfraStackContentPulseApi05534FA3.GET..analysis.{id}","path":"ContentPulseInfraStack/ContentPulseApi/Default/analysis/{id}/GET/ApiPermission.Test.ContentPulseInfraStackContentPulseApi05534FA3.GET..analysis.{id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.240.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["GetStatusFunction4DB2BCBB","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:988182841347:",{"Ref":"ContentPulseApiB23AC188"},"/test-invoke-stage/GET/analysis/*"]]}}}},"Resource":{"id":"Resource","path":"ContentPulseInfraStack/ContentPulseApi/Default/analysis/{id}/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.240.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["GetStatusFunction4DB2BCBB","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"ContentPulseApianalysisidF152B07C"},"restApiId":{"Ref":"ContentPulseApiB23AC188"}}}}}}}}}}}}}},"ApiUrl":{"id":"ApiUrl","path":"ContentPulseInfraStack/ApiUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.240.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"ContentPulseInfraStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.5.1"},"children":{"Default":{"id":"Default","path":"ContentPulseInfraStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.240.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"ContentPulseInfraStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.240.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"ContentPulseInfraStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.240.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.5.1"}}}}}